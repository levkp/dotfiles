#!/bin/bash

filename="root-$(date +%d%m%y).tar.gz"
target="/run/media/levi/4d43afc4-008c-44fe-b207-3f85505f5e97/Backup/Devices/HP Pavilion"

if [ -d "$target" ]; then
    tar czfvP "$target/$filename" \
        --exclude="/boot" \
        --exclude="/dev" \
        --exclude="/home" \
        --exclude="/lost+found" \
        --exclude="/media" \
        --exclude="/mnt" \
        --exclude="/proc" \
        --exclude="/run" \
        --exclude="/srv" \
        --exclude="/sys" \
        --exclude="/var/tmp" \
        --exclude="/tmp" /
else
    echo "Target device not mounted"
    exit 1
fi
